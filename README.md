# Data Platform for Music Streaming Service

This data platform is design to solve the following problems:
- Business Intelligence: prepared data will allow analytics to assess the state of the business at various levels. 
- Proactive actions based on user activity: architechture should allow making offers user in app based on real-time data.
- Based on music listening figures the compant should pay to license owners.

To acchive the goals above the data must meet the following requirements: 
- Must be in a centralized repository; 
- Events should be written to the storage with a delay of no more than one minute;
- Must reflect business process;
- Must be clean and reliable;
- Must be available 24/7;
- Must be documented.


## Architecture Design

![plot](./architechture.png)

## Data Source

The project is based on events generated by https://github.com/viirya/eventsim. This events reflect user behaviour in a fake music web site (like Spotify).

#### Event generation prerequests

##### Install OpenJDK 8

```bash
brew install openjdk@8
```
Create a symbolic link so that macOS  java wrapper can find it
```bash
sudo ln -sfn /usr/local/opt/openjdk@8/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-8.jdk 
```
 If you need OpenJDK 8 for a session
```bash
export PATH="/usr/local/opt/openjdk@8/bin:$PATH"
```
If you want to use OpenJDK 8 on persistent basis
```bash
echo 'export PATH="/usr/local/opt/openjdk@8/bin:$PATH"' >> ~/.zshrc
source ~/.zshrc
```

##### Install sbt util to compile eventsim project

```bash
brew install sbt
```

### Components description
#### Java Specification

Java client to ingest data to BigQuery: https://cloud.google.com/bigquery/docs/write-api#java_client
